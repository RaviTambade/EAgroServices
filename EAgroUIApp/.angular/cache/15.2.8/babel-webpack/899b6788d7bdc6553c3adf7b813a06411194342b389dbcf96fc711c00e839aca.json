{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction RegisterComponent_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r2.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r2.role);\n  }\n}\nfunction RegisterComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Farmer Registration Form\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\")(4, \"div\", 4)(5, \"label\", 5);\n    i0.ɵɵtext(6, \"Contact Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.user.contactNumber = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\", 7);\n    i0.ɵɵtext(10, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.user.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 4)(13, \"label\", 9);\n    i0.ɵɵtext(14, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.farmer.firstName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 4)(17, \"label\", 11);\n    i0.ɵɵtext(18, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.farmer.lastName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 4)(21, \"label\", 13);\n    i0.ɵɵtext(22, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.farmer.location = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_div_5_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onSubmit());\n    });\n    i0.ɵɵtext(25, \"Register\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.user.contactNumber);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.user.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.firstName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.lastName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.location);\n  }\n}\nexport class RegisterComponent {\n  constructor(svc) {\n    this.svc = svc;\n    this.user = {\n      contactNumber: '',\n      password: ''\n    };\n    this.farmer = {\n      firstName: '',\n      lastName: '',\n      location: ''\n    };\n    this.merchant = {\n      firstName: '',\n      lastName: '',\n      location: '',\n      companyName: ''\n    };\n    this.rolename = [{\n      role: \"Admin\",\n      value: \"admin\"\n    }, {\n      role: \"Farmer\",\n      value: \"farmer\"\n    }, {\n      role: \"Employee\",\n      value: \"employee\"\n    }, {\n      role: \"Merchant\",\n      value: \"merchant\"\n    }];\n    this.insertFarmer = {\n      farmer: {\n        firstName: '',\n        lastName: '',\n        location: ''\n      },\n      user: {\n        contactNumber: '',\n        password: ''\n      },\n      userRole: ''\n    };\n  }\n  ngOnInit() {}\n  onSubmit() {\n    switch (this.selectedRole) {\n      case 'farmer':\n        this.userRole = {\n          roleId: 2\n        };\n        this.svc.registerFarmer(this.insertFarmer).subscribe(response => {\n          console.log(response);\n          if (response) {\n            alert(\"register sucessfull\");\n            // window.location.reload();\n          } else {\n            alert(\"register Failed\");\n          }\n        });\n        break;\n      case 'merchant':\n        this.svc.registerMerchant(this.insertFarmer).subscribe(response => {\n          console.log(response);\n          if (response) {\n            alert(\"register sucessfull\");\n            // window.location.reload();\n          } else {\n            alert(\"register Failed\");\n          }\n        });\n        break;\n      default:\n        console.error('Invalid role selected');\n    }\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 6,\n  vars: 3,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [1, \"mb-3\"], [\"for\", \"contactNumber\", 1, \"form-label\"], [\"type\", \"contactnumber\", \"id\", \"contactNumber\", \"name\", \"contactNumber\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"firstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"location\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"location\", \"name\", \"location\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n      i0.ɵɵtext(2, \"Select Role:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"select\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_select_ngModelChange_3_listener($event) {\n        return ctx.selectedRole = $event;\n      });\n      i0.ɵɵtemplate(4, RegisterComponent_option_4_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, RegisterComponent_div_5_Template, 26, 5, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedRole);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.rolename);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedRole === \"farmer\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","RegisterComponent","constructor","svc","contactNumber","password","firstName","lastName","location","companyName","role","value","farmer","user","userRole","ngOnInit","onSubmit","selectedRole","roleId","registerFarmer","insertFarmer","subscribe","response","console","log","alert","registerMerchant","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\naval\\OneDrive\\Desktop\\E-AgroServicesAPI\\EAgroUIApp\\src\\app\\default\\membership\\register\\register.component.html","C:\\Users\\naval\\OneDrive\\Desktop\\E-AgroServicesAPI\\EAgroUIApp\\src\\app\\default\\membership\\register\\register.component.ts"],"sourcesContent":["<div>\n    <label>Select Role:</label>\n    <select [(ngModel)]=\"selectedRole\">\n      <option *ngFor=\"let role of rolename\" [value]=\"role.value\">{{ role.role }}</option>\n    </select>\n  </div>\n  <div *ngIf=\"selectedRole === 'farmer'\">\n    <h3>Farmer Registration Form</h3>\n    <form>   \n         <div class=\"mb-3\">\n      <label for=\"contactNumber\" class=\"form-label\">Contact Number</label>\n      <input type=\"contactnumber\" class=\"form-control\" id=\"contactNumber\" [(ngModel)]=\"user.contactNumber\" name=\"contactNumber\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"password\" class=\"form-label\">Password</label>\n      <input type=\"password\" class=\"form-control\" id=\"password\" [(ngModel)]=\"user.password\" name=\"password\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"firstName\" class=\"form-label\">First Name</label>\n      <input type=\"text\" class=\"form-control\" id=\"firstName\" [(ngModel)]=\"farmer.firstName\" name=\"firstName\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"lastName\" class=\"form-label\">Last Name</label>\n      <input type=\"text\" class=\"form-control\" id=\"lastName\" [(ngModel)]=\"farmer.lastName\" name=\"lastName\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"location\" class=\"form-label\">Location</label>\n      <input type=\"text\" class=\"form-control\" id=\"location\" [(ngModel)]=\"farmer.location\" name=\"location\">\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\">Register</button>\n  </form>\n  </div>","import { Component } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { Farmer } from '../farmer';\nimport { Insertfarmerrequest } from '../insertfarmerrequest';\nimport { Merchant } from '../merchant';\nimport { Role } from '../role';\nimport { User } from '../user';\nimport { Userrole } from '../userrole';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent {\n  user: User ={\n    contactNumber:'',\n    password:''\n  };\n  farmer:Farmer ={\n    firstName :'',\n    lastName : '',\n    location : ''\n  };\n  merchant:Merchant ={\n    firstName :'',\n    lastName : '',\n    location : '',\n    companyName: ''\n  };\n  userRole:Userrole |any;\n  \n  rolename =[{\n    role:\"Admin\",value:\"admin\"\n  },\n  {\n    role:\"Farmer\",value:\"farmer\"\n  },\n  {\n    role:\"Employee\",value:\"employee\"\n  },\n  {\n    role:\"Merchant\",value:\"merchant\"\n  },\n];\nselectedRole:string |any;\ninsertFarmer: Insertfarmerrequest ={farmer:{\n  firstName :'',\n  lastName : '',\n  location : ''\n},user:{\n  contactNumber:'',\n  password:''\n},userRole:''} ;\n\n  constructor(private svc :AuthService){}\n  ngOnInit(): void {\n  \n  }\n\nonSubmit(){\n  switch(this.selectedRole){\n    case 'farmer':\n      this.userRole = { roleId: 2 };\n      this.svc.registerFarmer(this.insertFarmer).subscribe((response)=>{\n        console.log(response);\n        if(response){\n          alert(\"register sucessfull\")\n          // window.location.reload();\n        }\n        else\n        {\n          alert(\"register Failed\")\n        }\n      })\n      break;\n      case 'merchant':\n        this.svc.registerMerchant(this.insertFarmer).subscribe((response)=>{\n          console.log(response);\n          if(response){\n            alert(\"register sucessfull\")\n            // window.location.reload();\n          }\n          else\n          {\n            alert(\"register Failed\")\n          }\n        })\n        break;\n        default:\n          console.error('Invalid role selected');\n      }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}