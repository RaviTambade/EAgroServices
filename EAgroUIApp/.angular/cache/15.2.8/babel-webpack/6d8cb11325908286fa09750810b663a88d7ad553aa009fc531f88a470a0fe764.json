{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction RegisterComponent_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r2.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r2.role);\n  }\n}\nfunction RegisterComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Farmer Registration Form\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\")(4, \"div\", 4)(5, \"label\", 5);\n    i0.ɵɵtext(6, \"Contact Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 6, 7);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.user.contactNumber = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 8);\n    i0.ɵɵtext(11, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 9, 10);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.user.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 4)(15, \"label\", 11);\n    i0.ɵɵtext(16, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 12, 13);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.farmer.firstName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 14);\n    i0.ɵɵtext(21, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 15, 16);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.farmer.lastName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 4)(25, \"label\", 17);\n    i0.ɵɵtext(26, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 18, 19);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_div_5_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.farmer.location = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_div_5_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onSubmit());\n    });\n    i0.ɵɵtext(30, \"Register\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.user.contactNumber);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.user.password);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.firstName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.lastName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.farmer.location);\n  }\n}\nexport class RegisterComponent {\n  constructor(svc) {\n    this.svc = svc;\n    this.user = {\n      contactNumber: '',\n      password: ''\n    };\n    this.farmer = {\n      firstName: '',\n      lastName: '',\n      location: ''\n    };\n    this.merchant = {\n      firstName: '',\n      lastName: '',\n      location: '',\n      companyName: ''\n    };\n    this.userRole = {\n      roleId: 2\n    };\n    this.rolename = [{\n      role: \"Admin\",\n      value: \"admin\"\n    }, {\n      role: \"Farmer\",\n      value: \"farmer\"\n    }, {\n      role: \"Employee\",\n      value: \"employee\"\n    }, {\n      role: \"Merchant\",\n      value: \"merchant\"\n    }];\n    this.insertFarmer = {\n      farmer: {\n        firstName: '',\n        lastName: '',\n        location: ''\n      },\n      userRole: {\n        roleId: 0\n      }\n    };\n  }\n  ngOnInit() {}\n  onSubmit() {\n    switch (this.selectedRole) {\n      case 'farmer':\n        {\n          this.userRole = {\n            roleId: 2\n          };\n          this.svc.registerFarmer(this.insertFarmer).subscribe(response => {\n            console.log(response);\n            if (response) {\n              alert(\"register sucessfull\");\n              // window.location.reload();\n            } else {\n              alert(\"register Failed\");\n            }\n          });\n        }\n        break;\n      // case 'merchant':\n      //   this.svc.registerMerchant(this.insertFarmer).subscribe((response)=>{\n      //     console.log(response);\n      //     if(response){\n      //       alert(\"register sucessfull\")\n      //       // window.location.reload();\n      //     }\n      //     else\n      //     {\n      //       alert(\"register Failed\")\n      //     }\n      //   })\n      default:\n        break;\n    }\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 6,\n  vars: 3,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [1, \"mb-3\"], [\"for\", \"contactNumber\", 1, \"form-label\"], [\"type\", \"contactnumber\", \"id\", \"contactNumber\", \"name\", \"contactNumber\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"contactnumber\", \"ngModel\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"password\", \"ngModel\"], [\"for\", \"firstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"firstname\", \"ngModel\"], [\"for\", \"lastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"lastname\", \"ngModel\"], [\"for\", \"location\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"location\", \"name\", \"location\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"location\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n      i0.ɵɵtext(2, \"Select Role:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"select\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_select_ngModelChange_3_listener($event) {\n        return ctx.selectedRole = $event;\n      });\n      i0.ɵɵtemplate(4, RegisterComponent_option_4_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, RegisterComponent_div_5_Template, 31, 5, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedRole);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.rolename);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedRole === \"farmer\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAGMA,iCAA2D;IAAAA,YAAe;IAAAA,iBAAS;;;;IAA7CA,qCAAoB;IAACA,eAAe;IAAfA,kCAAe;;;;;;IAG9EA,2BAAuC;IACjCA,wCAAwB;IAAAA,iBAAK;IACjCA,4BAAM;IAE0CA,8BAAc;IAAAA,iBAAQ;IACpEA,mCAAmJ;IAAtDA;MAAAA;MAAA;MAAA,OAAaA,kDAA0B;IAAA,EAAP;IAA7HA,iBAAmJ;IAErJA,8BAAkB;IACyBA,yBAAQ;IAAAA,iBAAQ;IACzDA,qCAA4H;IAA5CA;MAAAA;MAAA;MAAA,OAAaA,8CAAqB;IAAA,EAAP;IAA3GA,iBAA4H;IAE9HA,+BAAkB;IAC0BA,2BAAU;IAAAA,iBAAQ;IAC5DA,sCAA8H;IAAhDA;MAAAA;MAAA;MAAA,OAAaA,iDAAwB;IAAA,EAAP;IAA5GA,iBAA8H;IAEhIA,+BAAkB;IACyBA,0BAAS;IAAAA,iBAAQ;IAC1DA,sCAA0H;IAA9CA;MAAAA;MAAA;MAAA,OAAaA,gDAAuB;IAAA,EAAP;IAAzGA,iBAA0H;IAE5HA,+BAAkB;IACyBA,yBAAQ;IAAAA,iBAAQ;IACzDA,sCAA0H;IAA9CA;MAAAA;MAAA;MAAA,OAAaA,gDAAuB;IAAA,EAAP;IAAzGA,iBAA0H;IAE5HA,mCAAmE;IAArBA;MAAAA;MAAA;MAAA,OAASA,iCAAU;IAAA,EAAC;IAACA,yBAAQ;IAAAA,iBAAS;;;;IAlBWA,eAAgC;IAAhCA,mDAAgC;IAI7CA,eAA2B;IAA3BA,8CAA2B;IAI7BA,eAA8B;IAA9BA,iDAA8B;IAIhCA,eAA6B;IAA7BA,gDAA6B;IAI7BA,eAA6B;IAA7BA,gDAA6B;;;ACb/G,OAAM,MAAOC,iBAAiB;EA2C5BC,YAAoBC,GAAgB;IAAhB,QAAG,GAAHA,GAAG;IA1CvB,SAAI,GAAQ;MACVC,aAAa,EAAC,EAAE;MAChBC,QAAQ,EAAC;KACV;IACD,WAAM,GAAS;MACbC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAG,EAAE;MACbC,QAAQ,EAAG;KACZ;IACD,aAAQ,GAAW;MACjBF,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAG,EAAE;MACbC,QAAQ,EAAG,EAAE;MACbC,WAAW,EAAE;KACd;IACD,aAAQ,GAAU;MAChBC,MAAM,EAAC;KACR;IAED,aAAQ,GAAE,CAAC;MACTC,IAAI,EAAC,OAAO;MAACC,KAAK,EAAC;KACpB,EACD;MACED,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAC;KACrB,EACD;MACED,IAAI,EAAC,UAAU;MAACC,KAAK,EAAC;KACvB,EACD;MACED,IAAI,EAAC,UAAU;MAACC,KAAK,EAAC;KACvB,CACF;IAED,iBAAY,GAAuB;MAACC,MAAM,EAAC;QACzCP,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAG,EAAE;QACbC,QAAQ,EAAG;OACZ;MACDM,QAAQ,EAAC;QACPJ,MAAM,EAAC;;IACR,CAAC;EAEsC;EACtCK,QAAQ,IAER;EAEFC,QAAQ;IACN,QAAO,IAAI,CAACC,YAAY;MACtB,KAAK,QAAQ;QAAC;UACZ,IAAI,CAACH,QAAQ,GAAG;YAAEJ,MAAM,EAAE;UAAC,CAAE;UAC7B,IAAI,CAACP,GAAG,CAACe,cAAc,CAAC,IAAI,CAACC,YAAY,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAG;YAC/DC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;YACrB,IAAGA,QAAQ,EAAC;cACVG,KAAK,CAAC,qBAAqB,CAAC;cAC5B;aACD,MAED;cACEA,KAAK,CAAC,iBAAiB,CAAC;;UAG5B,CAAC,CAAC;;QAEF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEE;QACE;IAAM;EAEd;;AAlFWvB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDd9B7B,2BAAK;MACMA,4BAAY;MAAAA,iBAAQ;MAC3BA,iCAAmC;MAA3BA;QAAA;MAAA,EAA0B;MAChCA,wEAAmF;MACrFA,iBAAS;MAEXA,mEAyBM;;;MA7BIA,eAA0B;MAA1BA,0CAA0B;MACPA,eAAW;MAAXA,sCAAW;MAGlCA,eAA+B;MAA/BA,oDAA+B","names":["i0","RegisterComponent","constructor","svc","contactNumber","password","firstName","lastName","location","companyName","roleId","role","value","farmer","userRole","ngOnInit","onSubmit","selectedRole","registerFarmer","insertFarmer","subscribe","response","console","log","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\naval\\OneDrive\\Desktop\\E-AgroServicesAPI\\EAgroUIApp\\src\\app\\default\\membership\\register\\register.component.html","C:\\Users\\naval\\OneDrive\\Desktop\\E-AgroServicesAPI\\EAgroUIApp\\src\\app\\default\\membership\\register\\register.component.ts"],"sourcesContent":["<div>\n    <label>Select Role:</label>\n    <select [(ngModel)]=\"selectedRole\">\n      <option *ngFor=\"let role of rolename\" [value]=\"role.value\">{{ role.role }}</option>\n    </select>\n  </div>\n  <div *ngIf=\"selectedRole === 'farmer'\">\n    <h3>Farmer Registration Form</h3>\n    <form>   \n         <div class=\"mb-3\">\n      <label for=\"contactNumber\" class=\"form-label\">Contact Number</label>\n      <input type=\"contactnumber\" class=\"form-control\" id=\"contactNumber\" #contactnumber=\"ngModel\" [(ngModel)]=\"user.contactNumber\" name=\"contactNumber\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"password\" class=\"form-label\">Password</label>\n      <input type=\"password\" class=\"form-control\" id=\"password\"  #password=\"ngModel\"  [(ngModel)]=\"user.password\" name=\"password\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"firstName\" class=\"form-label\">First Name</label>\n      <input type=\"text\" class=\"form-control\" id=\"firstName\"  #firstname=\"ngModel\"  [(ngModel)]=\"farmer.firstName\" name=\"firstName\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"lastName\" class=\"form-label\">Last Name</label>\n      <input type=\"text\" class=\"form-control\" id=\"lastName\"  #lastname=\"ngModel\"  [(ngModel)]=\"farmer.lastName\" name=\"lastName\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"location\" class=\"form-label\">Location</label>\n      <input type=\"text\" class=\"form-control\" id=\"location\"  #location=\"ngModel\"  [(ngModel)]=\"farmer.location\" name=\"location\">\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\">Register</button>\n  </form>\n  </div>","import { Component } from '@angular/core';\r\nimport { AuthService } from '../auth.service';\r\nimport { Farmer } from '../farmer';\r\nimport { Insertfarmerrequest } from '../insertfarmerrequest';\r\nimport { Merchant } from '../merchant';\r\nimport { Role } from '../role';\r\nimport { User } from '../user';\r\nimport { Userrole } from '../userrole';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent {\r\n  user: User ={\r\n    contactNumber:'',\r\n    password:''\r\n  };\r\n  farmer:Farmer ={\r\n    firstName :'',\r\n    lastName : '',\r\n    location : ''\r\n  };\r\n  merchant:Merchant ={\r\n    firstName :'',\r\n    lastName : '',\r\n    location : '',\r\n    companyName: ''\r\n  };\r\n  userRole:Userrole={\r\n    roleId:2\r\n  };\r\n  \r\n  rolename =[{\r\n    role:\"Admin\",value:\"admin\"\r\n  },\r\n  {\r\n    role:\"Farmer\",value:\"farmer\"\r\n  },\r\n  {\r\n    role:\"Employee\",value:\"employee\"\r\n  },\r\n  {\r\n    role:\"Merchant\",value:\"merchant\"\r\n  },\r\n];\r\nselectedRole:string |any;\r\ninsertFarmer: Insertfarmerrequest ={farmer:{\r\n  firstName :'',\r\n  lastName : '',\r\n  location : ''\r\n},\r\nuserRole:{\r\n  roleId:0\r\n}};\r\n\r\n  constructor(private svc :AuthService){}\r\n  ngOnInit(): void {\r\n  \r\n  }\r\n\r\nonSubmit(){\r\n  switch(this.selectedRole){\r\n    case 'farmer':{\r\n      this.userRole = { roleId: 2 };\r\n      this.svc.registerFarmer(this.insertFarmer).subscribe((response)=>{\r\n        console.log(response);\r\n        if(response){\r\n          alert(\"register sucessfull\")\r\n          // window.location.reload();\r\n        }\r\n        else\r\n        {\r\n          alert(\"register Failed\")\r\n        }\r\n        \r\n      })\r\n    }\r\n      break;\r\n      // case 'merchant':\r\n      //   this.svc.registerMerchant(this.insertFarmer).subscribe((response)=>{\r\n      //     console.log(response);\r\n      //     if(response){\r\n      //       alert(\"register sucessfull\")\r\n      //       // window.location.reload();\r\n      //     }\r\n      //     else\r\n      //     {\r\n      //       alert(\"register Failed\")\r\n      //     }\r\n      //   })\r\n\r\n        default:\r\n          break;\r\n      }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}